---
layout: post
title: Time In C
date: 2018-03-28 18:00:00
description: timer use in c
---

C 中提供了一些基本的 time 相关函数，通过这些函数我们可以获取到相关的时间信息，这些信息可以用于 Log 的输出，或者性能测试时的统计。所以本篇博客主要是来整理一下 C 中的时间函数的使用，同时还会涉及到简单的 timer 的设计和使用。

### 获取时间

首先我们需要获取到时间的值， 最简单的方式就是使用 `time(3)` 函数。该函数返回 `time_t`， 这个时间时从 1970年1月1日0时0分0秒开始到现在的秒数，所以 `time_t` 通常是一个比较大的数。
需要注意的是单纯的使用 time 函数是返回的当前时区的本地时间。如果想要获取其他时区的时间，则需要使用后面介绍的 `gettimeofday(2)`来获取。 同时我们需要注意到这个时间**只能精确到秒**， 所以在一些精度要求比较高的情况下使用这个函数就不太合适了。

```c
time_t time(time_t *tloc);
```
时间值可以通过返回值，也可以通过传入`tloc`来获取到。
