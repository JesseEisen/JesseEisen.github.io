<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>
      21B12 | Chan
    </title>
    <meta name="description" content="A PKM Site">
    <link rel="stylesheet" href="/assets/style.722ee15e.css">
    <link rel="modulepreload" href="/assets/framework.ab59a038.js">
    <link rel="modulepreload" href="/assets/daily_21B12.md.4c306d93.lean.js">
    <link rel="modulepreload" href="/assets/app.99fa0b8e.js">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/github-markdown-css/2.2.1/github-markdown.css">
    
  </head>
  <body>
    <div id="app"><div><main class="max-w-4xl mx-auto px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="pt-6 pb-8 space-y-2 md:space-y-5"><h3 class="text-xl leading-9 font-extrabold text-gray-900 tracking-tight sm:leading-10 md:leading-14"><a aria-label="Chan" href="/">Chan</a></h3></div><!--[--><article class="xl:divide-y xl:divide-gray-200" data-v-c3fd59da><header class="pt-6 xl:pb-10 space-y-1 text-center" data-v-c3fd59da><h3 class="text-xl leading-9 font-bold text-gray-900 tracking-tigh" data-v-c3fd59da>21B12 - PostgreSQL In Action</h3></header><div class="prose max-w-none pt-10 pb-8" data-v-c3fd59da><p><div class="table-of-contents"><ul><li><a href="#创建用户">创建用户</a></li><li><a href="#登录数据库">登录数据库</a></li><li><a href="#导入导出">导入导出</a></li></ul></div></p><hr><p>postgresql 是一款开源的对象关系数据库管理系统。pg 可以说是一款全栈的数据库，毕竟 slogan 是 “世界上最先进的关系型数据库”。同时 pg 比 mysql 少不少的坑，使用上会舒心一些。 本文主要是记录 pg 的使用方式，同时也会记录一些 sql 的语句或者 pg 独有的一些操作。</p><h2 id="创建用户"><a class="header-anchor" href="#创建用户" aria-hidden="true">#</a> 创建用户</h2><p>pg 安装后默认会有一个 <code>postgres</code> 的用户，要创建新用户，需要先切换到该账户，然后执行如下的操作。</p><div class="language-"><pre><code>$ su - postgres
-bash-4.2$ psql
postgre=# create user username with password &#39;xxxxx&#39;;
postgre=# create database databaseName owner username;
postgre=# grant all privileges on database databaseName to username;
</code></pre></div><h2 id="登录数据库"><a class="header-anchor" href="#登录数据库" aria-hidden="true">#</a> 登录数据库</h2><p>使用用户名密码登录：</p><div class="language-"><pre><code>$ psql -h hosturl -U username -d databasename -p port
</code></pre></div><p><strong>注意</strong> 在一些编程的库中使用上面的方式可能会报 <code>sslmode required not support</code> 。通过增加 <code>sslmode=disable</code> 可以解决。</p><h2 id="导入导出"><a class="header-anchor" href="#导入导出" aria-hidden="true">#</a> 导入导出</h2><p>可以通过一些外部命令将 pg 数据库中的内容导出到一个 sql 文件中，同时也可以将这个 sql 文件重新应用到另外的数据库中。操作如下：</p><div class="language-"><pre><code># export to dump.sql
$ pg_dump -h hosturl -U username databasename &gt; /path/tp/save/dump.sql

# import to new database 
$ psql -h hosturl -d database -U username -f dump.sql
</code></pre></div></div></article><footer class="text-right my-12" data-v-c3fd59da><p class="author-show" data-v-c3fd59da>L.K</p></footer><!--]--></main></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"4ba7c645\",\"daily_20d10.md\":\"880ab452\",\"daily_20q01.md\":\"6dfd4483\",\"daily_20x11.md\":\"16c672b8\",\"daily_21b04.md\":\"4291f926\",\"daily_21b05.md\":\"af3c3d26\",\"daily_21b06.md\":\"89c066ca\",\"daily_21b07.md\":\"b786a751\",\"daily_21b11.md\":\"0a33a466\",\"daily_21b12.md\":\"4c306d93\",\"daily_21c04.md\":\"76d4df30\",\"daily_21d09.md\":\"7541a9c0\",\"posts_19x14.md\":\"74b0704d\",\"posts_20e01.md\":\"610cf89c\",\"posts_draw.md\":\"40330124\",\"posts_first_post.md\":\"1eb64573\",\"posts_openssl.md\":\"93f5bec6\",\"posts_tpp.md\":\"c2b801c7\"}")</script>
    <script type="module" async src="/assets/app.99fa0b8e.js"></script>
  </body>
</html>