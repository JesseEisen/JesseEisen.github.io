import{_ as n}from"./app.449ba84e.js";import{h as t,o as s,a,w as o,b as e,k as p}from"./vendor.80607e96.js";const c=e("div",null,[e("h3",{id:"django-form-post"},[e("a",{class:"header-anchor",href:"#django-form-post","aria-hidden":"true"},"#"),p(" django form post")]),e("pre",{class:"language-python"},[e("code",{class:"language-python"},[e("span",{class:"token keyword"},"from"),p(" rest_framework"),e("span",{class:"token punctuation"},"."),p("test "),e("span",{class:"token keyword"},"import"),p(" APITestCase\n"),e("span",{class:"token keyword"},"from"),p(" django"),e("span",{class:"token punctuation"},"."),p("test"),e("span",{class:"token punctuation"},"."),p("client "),e("span",{class:"token keyword"},"import"),p(" MULTIPART_CONTENT"),e("span",{class:"token punctuation"},","),p(" encode_multipart"),e("span",{class:"token punctuation"},","),p(" BOUNDARY\n"),e("span",{class:"token keyword"},"from"),p(" django"),e("span",{class:"token punctuation"},"."),p("core"),e("span",{class:"token punctuation"},"."),p("files"),e("span",{class:"token punctuation"},"."),p("base "),e("span",{class:"token keyword"},"import"),p(" ContentFile  \n\n"),e("span",{class:"token keyword"},"class"),p(),e("span",{class:"token class-name"},"FileUploadTestCase"),e("span",{class:"token punctuation"},"("),p("APITestCase"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},":"),p("  \n    "),e("span",{class:"token keyword"},"def"),p(),e("span",{class:"token function"},"test_upload"),e("span",{class:"token punctuation"},"("),p("self"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},":"),p("\n        document "),e("span",{class:"token operator"},"="),p(" ContentFile"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'b"foo"'),e("span",{class:"token punctuation"},","),p(),e("span",{class:"token string"},'"test.png"'),e("span",{class:"token punctuation"},")"),p("\n        url "),e("span",{class:"token operator"},"="),p(" reverse"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"upload-file"'),e("span",{class:"token punctuation"},")"),p("\n        response "),e("span",{class:"token operator"},"="),p(" self"),e("span",{class:"token punctuation"},"."),p("client"),e("span",{class:"token punctuation"},"."),p("post"),e("span",{class:"token punctuation"},"("),p("\n            path"),e("span",{class:"token operator"},"="),p("url"),e("span",{class:"token punctuation"},","),p("\n            data"),e("span",{class:"token operator"},"="),p("encode_multipart"),e("span",{class:"token punctuation"},"("),p("data "),e("span",{class:"token operator"},"="),p(),e("span",{class:"token builtin"},"dict"),e("span",{class:"token punctuation"},"("),p("image"),e("span",{class:"token operator"},"="),p("document"),e("span",{class:"token punctuation"},","),p(" name"),e("span",{class:"token operator"},"="),e("span",{class:"token string"},'"test"'),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},","),p(" boundary"),e("span",{class:"token operator"},"="),p("BOUNDARY"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},","),p("\n            content_type"),e("span",{class:"token operator"},"="),p("MULTIPART_CONTENT"),e("span",{class:"token punctuation"},","),p("\n            HTTP_AUTHORIZATION"),e("span",{class:"token operator"},"="),e("span",{class:"token string-interpolation"},[e("span",{class:"token string"},'f"Token '),e("span",{class:"token interpolation"},[e("span",{class:"token punctuation"},"{"),p("self"),e("span",{class:"token punctuation"},"."),p("token"),e("span",{class:"token punctuation"},"."),p("key"),e("span",{class:"token punctuation"},"}")]),e("span",{class:"token string"},'"')]),p("\n        "),e("span",{class:"token punctuation"},")"),p("\n\n        self"),e("span",{class:"token punctuation"},"."),p("assertEqual"),e("span",{class:"token punctuation"},"("),e("span",{class:"token number"},"200"),e("span",{class:"token punctuation"},","),p(" response"),e("span",{class:"token punctuation"},"."),p("status_code"),e("span",{class:"token punctuation"},")"),p("\n        \n")])])],-1),l={expose:[],setup(e){const p={title:"Pytest 使用笔记",date:"2024-01-12T00:00:00.000Z",author:"Linkang Chan",twitter:"JessEisen_LJ",description:"collection of pytest",public:!0,tag:"24B01 pytest",meta:[{property:"og:title",content:"Pytest 使用笔记"},{property:"og:description",content:"collection of pytest"},{name:"description",content:"collection of pytest"}]};return t({title:"Pytest 使用笔记",meta:[{property:"og:title",content:"Pytest 使用笔记"},{property:"og:description",content:"collection of pytest"},{name:"description",content:"collection of pytest"}]}),(t,e)=>{const l=n;return s(),a(l,{frontmatter:p},{default:o((()=>[c])),_:1})}}};export default l;
