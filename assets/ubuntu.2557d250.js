import{_ as n}from"./LinkItem.65bc6d8d.js";import{_ as s}from"./app.449ba84e.js";import{h as a,o as e,a as t,w as o,b as c,k as l}from"./vendor.80607e96.js";const r=c("p",null,"本文记录在日常使用 ubuntu 或者在镜像中使用时遇到的一些问题，主要是环境配置等等。同时还有各种镜像源和配置的记录。",-1),i=c("h2",{id:"配置源"},[c("a",{class:"header-anchor",href:"#配置源","aria-hidden":"true"},"#"),l(" 配置源")],-1),u=c("ul",null,[c("li",null,[c("strong",null,"conda")])],-1),p=c("p",null,[l("一个速度比较快一些的 condarc 配置。需要将 "),c("code",null,".condarc"),l(" 放到 "),c("code",null,"$HOME"),l(" 下。")],-1),d=c("pre",{class:"language-bash"},[c("code",{class:"language-bash"},[l("$ "),c("span",{class:"token function"},"cat"),l(),c("span",{class:"token environment constant"},"$HOME"),l("/.condarc\nchannels:\n  - defaults\nshow_channel_urls: "),c("span",{class:"token boolean"},"true"),l("\ndefault_channels:\n  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main\n  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r\n  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2\ncustom_channels:\n  conda-forge: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\n  msys2: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\n  dglteam: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\n  bioconda: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\n  menpo: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\n  pytorch: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\n  simpleitk: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\n")])],-1),h=c("ul",null,[c("li",null,[c("strong",null,"pip")])],-1),m=c("p",null,[l("临时使用可以通过 "),c("code",null,"-i"),l(" 选项完成。")],-1),b=c("pre",{class:"language-bash"},[c("code",{class:"language-bash"},[l("$ pip "),c("span",{class:"token function"},"install"),l(" rich -i https://pypi.tuna.tsinghua.edu.cn/simple\n")])],-1),k=c("p",null,"设置为默认可以通过如下命令完成",-1),g=c("pre",{class:"language-bash"},[c("code",{class:"language-bash"},[l("$ pip config "),c("span",{class:"token builtin class-name"},"set"),l(" global.index-url https://pypi.tuna.tsinghua.edu.cn/simple\n")])],-1),f=l(" pip 清华源配置 "),y=c("h2",{id:"apt-update-问题"},[c("a",{class:"header-anchor",href:"#apt-update-问题","aria-hidden":"true"},"#"),l(" apt update 问题")],-1),$=c("blockquote",null,[c("p",null,"Couldn’t create temporary file /tmp/apt.conf.RpjjUo for passing config to apt-key")],-1),x=c("p",null,"这个时候大概率是 tmp 目录的权限不对。使用",-1),_=c("pre",{class:"language-bash"},[c("code",{class:"language-bash"},[l("$ "),c("span",{class:"token function"},"chmod"),l(),c("span",{class:"token number"},"1777"),l(" /tmp\n")])],-1),v=l("sudo apt-get update couldn’t create temporary file"),w=c("h2",{id:"apt-的源"},[c("a",{class:"header-anchor",href:"#apt-的源","aria-hidden":"true"},"#"),l(" apt 的源")],-1),j=c("ul",null,[c("li",null,"debian(bullseys)")],-1),q=c("pre",{class:"language-shell"},[c("code",{class:"language-shell"},[c("span",{class:"token comment"},"# 阿里云"),l("\n\ndeb https://mirrors.aliyun.com/debian/ bullseye main non-free contrib\ndeb-src https://mirrors.aliyun.com/debian/ bullseye main non-free contrib\ndeb https://mirrors.aliyun.com/debian-security/ bullseye-security main\ndeb-src https://mirrors.aliyun.com/debian-security/ bullseye-security main\ndeb https://mirrors.aliyun.com/debian/ bullseye-updates main non-free contrib\ndeb-src https://mirrors.aliyun.com/debian/ bullseye-updates main non-free contrib\ndeb https://mirrors.aliyun.com/debian/ bullseye-backports main non-free contrib\ndeb-src https://mirrors.aliyun.com/debian/ bullseye-backports main non-free contrib\n\n"),c("span",{class:"token comment"},"# 腾讯云"),l("\ndeb https://mirrors.tencent.com/debian/ bullseye main non-free contrib\ndeb-src https://mirrors.tencent.com/debian/ bullseye main non-free contrib\ndeb https://mirrors.tencent.com/debian-security/ bullseye-security main\ndeb-src https://mirrors.tencent.com/debian-security/ bullseye-security main\ndeb https://mirrors.tencent.com/debian/ bullseye-updates main non-free contrib\ndeb-src https://mirrors.tencent.com/debian/ bullseye-updates main non-free contrib\ndeb https://mirrors.tencent.com/debian/ bullseye-backports main non-free contrib\ndeb-src https://mirrors.tencent.com/debian/ bullseye-backports main non-free contrib\n")])],-1),L=c("h2",{id:"安装库"},[c("a",{class:"header-anchor",href:"#安装库","aria-hidden":"true"},"#"),l(" 安装库")],-1),E=c("p",null,"一些比较精简的镜像或者系统不会默认安装一些必要的库，此时我们需要手动对其进行安装。",-1),M=c("pre",{class:"language-bash"},[c("code",{class:"language-bash"},[c("span",{class:"token comment"},"# 安装 ping"),l("\n$ "),c("span",{class:"token function"},"sudo"),l(),c("span",{class:"token function"},"apt-get"),l(),c("span",{class:"token function"},"install"),l(" inetutils-ping\n\n"),c("span",{class:"token comment"},"# 安装 ifconfig"),l("\n$ "),c("span",{class:"token function"},"sudo"),l(),c("span",{class:"token function"},"apt-get"),l(),c("span",{class:"token function"},"install"),l(" net-tools\n\n"),c("span",{class:"token comment"},"# 安装 ip"),l("\n$ "),c("span",{class:"token function"},"sudo"),l(),c("span",{class:"token function"},"apt-get"),l(),c("span",{class:"token function"},"install"),l(" iproute2 \n")])],-1),C=c("h2",{id:"安装-postgresql-客户端"},[c("a",{class:"header-anchor",href:"#安装-postgresql-客户端","aria-hidden":"true"},"#"),l(" 安装 postgresql 客户端")],-1),R=c("pre",{class:"language-bash"},[c("code",{class:"language-bash"},[l("$ "),c("span",{class:"token function"},"sudo"),l(),c("span",{class:"token function"},"apt-get"),l(),c("span",{class:"token function"},"install"),l(" -y postgresql-client\n")])],-1),z=c("h2",{id:"kernel-inotify-watch-limit-reached"},[c("a",{class:"header-anchor",href:"#kernel-inotify-watch-limit-reached","aria-hidden":"true"},"#"),l(" Kernel inotify watch limit reached")],-1),H=c("pre",{class:"language-bash"},[c("code",{class:"language-bash"},[l("$ "),c("span",{class:"token function"},"cat"),l(" /proc/sys/fs/inotify/max_user_watches\n"),c("span",{class:"token number"},"8109"),l("\n$ "),c("span",{class:"token function"},"cat"),l(),c("span",{class:"token number"},"65535"),l(),c("span",{class:"token operator"},">"),l(" /proc/sys/fs/inotify/max_user_watches\n")])],-1),I=l(" 相关回答 "),J=c("h2",{id:"用户管理"},[c("a",{class:"header-anchor",href:"#用户管理","aria-hidden":"true"},"#"),l(" 用户管理")],-1),O=c("p",null,"快速去除指定用户的密码：",-1),U=c("pre",{class:"language-bash"},[c("code",{class:"language-bash"},[l("$ "),c("span",{class:"token function"},"sudo"),l(),c("span",{class:"token function"},"passwd"),l(" -d ecs-user\n")])],-1),G=c("p",null,"快速创建一个用户:",-1),K=c("pre",{class:"language-bash"},[c("code",{class:"language-bash"},[c("span",{class:"token shebang important"},"#!/bin/bash"),l("\nadduser --gecos "),c("span",{class:"token string"},'""'),l(" --disabled-password "),c("span",{class:"token variable"},"$1"),l(" --home /home/"),c("span",{class:"token variable"},"$1"),l("\n\n"),c("span",{class:"token function"},"passwd"),l(" -d "),c("span",{class:"token variable"},"$1"),l("\n"),c("span",{class:"token function"},"passwd"),l(" -e "),c("span",{class:"token variable"},"$1"),l("\n"),c("span",{class:"token function"},"mkdir"),l(" -p /home/"),c("span",{class:"token variable"},"$1"),l("/.ssh\n"),c("span",{class:"token builtin class-name"},"echo"),l(),c("span",{class:"token string"},[l('"'),c("span",{class:"token variable"},"$2"),l('"')]),l(),c("span",{class:"token operator"},">>"),l(" /home/"),c("span",{class:"token variable"},"$1"),l("/.ssh/authorized_keys\n"),c("span",{class:"token function"},"chmod"),l(" 0600 /home/"),c("span",{class:"token variable"},"$1"),l("/.ssh/authorized_keys\n"),c("span",{class:"token function"},"chown"),l(" -R "),c("span",{class:"token string"},[l('"'),c("span",{class:"token variable"},"$1"),l('"')]),c("span",{class:"token builtin class-name"},"."),c("span",{class:"token string"},[l('"'),c("span",{class:"token variable"},"$1"),l('"')]),l(" /home/"),c("span",{class:"token variable"},"$1"),l("/.ssh\n")])],-1),S=c("p",null,"追加用户到指定的组内",-1),T=c("pre",{class:"language-bash"},[c("code",{class:"language-bash"},[l("$ "),c("span",{class:"token function"},"sudo"),l(),c("span",{class:"token function"},"usermod"),l(" -aG docker "),c("span",{class:"token environment constant"},"$USER"),l("\n")])],-1),Z=c("h2",{id:"检查-minio-是否可用"},[c("a",{class:"header-anchor",href:"#检查-minio-是否可用","aria-hidden":"true"},"#"),l(" 检查 minio 是否可用")],-1),A=c("pre",{class:"language-bash"},[c("code",{class:"language-bash"},[l("$ "),c("span",{class:"token function"},"curl"),l(" -I https://minio.example.net:9000/minio/health/live\n")])],-1),B=c("h2",{id:"挂载硬盘"},[c("a",{class:"header-anchor",href:"#挂载硬盘","aria-hidden":"true"},"#"),l(" 挂载硬盘")],-1),D=c("pre",{class:"language-python"},[c("code",{class:"language-python"},[l("$ fdisk "),c("span",{class:"token operator"},"-"),l("l\n$ lsblk\n\n$ mkfs "),c("span",{class:"token operator"},"-"),l("t ext4 "),c("span",{class:"token operator"},"/"),l("dev"),c("span",{class:"token operator"},"/"),l("vdb\n$ mkdir "),c("span",{class:"token operator"},"/"),l("x"),c("span",{class:"token operator"},"/"),l("xx"),c("span",{class:"token operator"},"/"),l("\n$ sudo mount "),c("span",{class:"token operator"},"/"),l("dev"),c("span",{class:"token operator"},"/"),l("vdb"),c("span",{class:"token operator"},"/"),l(),c("span",{class:"token operator"},"/"),l("x"),c("span",{class:"token operator"},"/"),l("xx"),c("span",{class:"token operator"},"/"),l("\n$ df "),c("span",{class:"token operator"},"-"),l("h\n")])],-1),F=c("h2",{id:"minio-conda-install-in-dockerfile"},[c("a",{class:"header-anchor",href:"#minio-conda-install-in-dockerfile","aria-hidden":"true"},"#"),l(" minio conda install in dockerfile")],-1),N=c("pre",{class:"language-python"},[c("code",{class:"language-python"},[c("span",{class:"token comment"},"# change version for what you want"),l("\n$ wget https"),c("span",{class:"token punctuation"},":"),c("span",{class:"token operator"},"//"),l("mirrors"),c("span",{class:"token punctuation"},"."),l("tuna"),c("span",{class:"token punctuation"},"."),l("tsinghua"),c("span",{class:"token punctuation"},"."),l("edu"),c("span",{class:"token punctuation"},"."),l("cn"),c("span",{class:"token operator"},"/"),l("anaconda"),c("span",{class:"token operator"},"/"),l("miniconda"),c("span",{class:"token operator"},"/"),l("Miniconda3"),c("span",{class:"token operator"},"-"),l("py311_23"),c("span",{class:"token punctuation"},"."),c("span",{class:"token number"},"5.2"),c("span",{class:"token operator"},"-"),c("span",{class:"token number"},"0"),c("span",{class:"token operator"},"-"),l("Linux"),c("span",{class:"token operator"},"-"),l("x86_64"),c("span",{class:"token punctuation"},"."),l("sh\n$ bash Miniconda3"),c("span",{class:"token operator"},"-"),l("py311_23"),c("span",{class:"token punctuation"},"."),c("span",{class:"token number"},"5.2"),c("span",{class:"token operator"},"-"),c("span",{class:"token number"},"0"),c("span",{class:"token operator"},"-"),l("Linux"),c("span",{class:"token operator"},"-"),l("x86_64"),c("span",{class:"token punctuation"},"."),l("sh\n")])],-1),P=c("h2",{id:"获取系统上所有用户的所属组"},[c("a",{class:"header-anchor",href:"#获取系统上所有用户的所属组","aria-hidden":"true"},"#"),l(" 获取系统上所有用户的所属组")],-1),Q=c("pre",{class:"language-bash"},[c("code",{class:"language-bash"},[l("$ "),c("span",{class:"token function"},"cut"),l(" -d: -f1 /etc/passwd "),c("span",{class:"token operator"},"|"),l(),c("span",{class:"token function"},"xargs"),l(" -n1 "),c("span",{class:"token function"},"groups"),l("\n")])],-1),V=c("h2",{id:"inotify-add-watch-failed-‘no-space-left-on-device’"},[c("a",{class:"header-anchor",href:"#inotify-add-watch-failed-‘no-space-left-on-device’","aria-hidden":"true"},"#"),l(),c("code",null,"inotify_add_watch"),l(" --failed ‘no space left on device’")],-1),W=c("pre",{class:"language-bash"},[c("code",{class:"language-bash"},[c("span",{class:"token builtin class-name"},"echo"),l(" fs.inotify.max_user_watches"),c("span",{class:"token operator"},"="),c("span",{class:"token number"},"65536"),l(),c("span",{class:"token operator"},"|"),l(),c("span",{class:"token function"},"sudo"),l(),c("span",{class:"token function"},"tee"),l(" -a /etc/sysctl.conf "),c("span",{class:"token operator"},"&&"),l(),c("span",{class:"token function"},"sudo"),l(" sysctl -p\n")])],-1),X=l(" 相关回答 "),Y={expose:[],setup(l){const Y={title:"ubuntu system use",date:"2023-01-31T00:00:00.000Z",author:"Linkang Chan",twitter:"JessEisen_LJ",description:"collection of ubuntu system use",public:!0,tag:"23C03 ubuntu",meta:[{property:"og:title",content:"ubuntu system use"},{property:"og:description",content:"collection of ubuntu system use"},{name:"description",content:"collection of ubuntu system use"}]};return a({title:"ubuntu system use",meta:[{property:"og:title",content:"ubuntu system use"},{property:"og:description",content:"collection of ubuntu system use"},{name:"description",content:"collection of ubuntu system use"}]}),(a,l)=>{const nn=n,sn=s;return e(),t(sn,{frontmatter:Y},{default:o((()=>[c("div",null,[r,i,u,p,d,h,m,b,k,g,c("p",null,[c(nn,{text:"清华源 pip 配置说明",url:"https://mirrors.tuna.tsinghua.edu.cn/help/pypi/"},{default:o((()=>[f])),_:1})]),y,$,x,_,c("p",null,[c(nn,{text:"stackoverflow",url:"https://superuser.com/a/1541135"},{default:o((()=>[v])),_:1})]),w,j,q,L,E,M,C,R,z,H,c("p",null,[c(nn,{text:"stack exchange",url:"https://unix.stackexchange.com/a/13757/106817"},{default:o((()=>[I])),_:1})]),J,O,U,G,K,S,T,Z,A,B,D,F,N,P,Q,V,W,c("p",null,[c(nn,{text:"stack exchange",url:"https://askubuntu.com/a/1088275/569489"},{default:o((()=>[X])),_:1})])])])),_:1})}}};export default Y;
