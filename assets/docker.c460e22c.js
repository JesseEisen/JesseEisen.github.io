import{_ as n}from"./ShortHR.929b4750.js";import{_ as a}from"./app.1e82055a.js";import{h as e,o as s,a as o,w as r,b as t,k as c}from"./vendor.5a394a79.js";const l=t("p",null,"记录 docker 的一些常用命令, 主要是在日常查询和定位问题的时候比较有帮助。以期望能在必要时提供一些帮助。这些内容大多是实践之后的记录，不是一篇 docker 使用手册的笔记。",-1),i=t("h4",{id:"查看-container-的详情"},[t("a",{class:"header-anchor",href:"#查看-container-的详情","aria-hidden":"true"},"#"),c(" 查看 container 的详情")],-1),u=t("pre",{class:"language-bash"},[t("code",{class:"language-bash"},[c("$ "),t("span",{class:"token function"},"sudo"),c(" docker inspect  "),t("span",{class:"token operator"},"<"),c("container_name/container_id"),t("span",{class:"token operator"},">"),c("\n")])],-1),p=t("h4",{id:"查看-container-的内存使用情况"},[t("a",{class:"header-anchor",href:"#查看-container-的内存使用情况","aria-hidden":"true"},"#"),c(" 查看 container 的内存使用情况")],-1),d=t("pre",{class:"language-bash"},[t("code",{class:"language-bash"},[c("$ "),t("span",{class:"token function"},"sudo"),c(" docker stats\nCONTAINER ID    NAME    CPU %   MEM USAGE / LIMIT     MEM %    NET I/O           BLOCK I/O       PIDS\n306d9e2f8631   cuda     "),t("span",{class:"token number"},"0.00"),c("%   988KiB / "),t("span",{class:"token number"},"125"),c(".5GiB     "),t("span",{class:"token number"},"0.00"),c("%    0B / 0B           "),t("span",{class:"token number"},"6"),c(".61MB / 174MB   "),t("span",{class:"token number"},"2"),c("\n4e7decd2bcfc   goodbye  "),t("span",{class:"token number"},"0.00"),c("%   "),t("span",{class:"token number"},"1"),c(".93MiB / "),t("span",{class:"token number"},"125"),c(".5GiB    "),t("span",{class:"token number"},"0.00"),c("%    "),t("span",{class:"token number"},"6"),c(".97MB / "),t("span",{class:"token number"},"1"),c(".97kB   "),t("span",{class:"token number"},"1"),c(".17MB / 172kB   "),t("span",{class:"token number"},"4"),c("\n")])],-1),k=t("h4",{id:"查看-docker-自身的信息"},[t("a",{class:"header-anchor",href:"#查看-docker-自身的信息","aria-hidden":"true"},"#"),c(" 查看 docker 自身的信息")],-1),g=t("pre",{class:"language-bash"},[t("code",{class:"language-bash"},[c("$ "),t("span",{class:"token function"},"sudo"),c(" docker info\nContainers: "),t("span",{class:"token number"},"26"),c("\n Running: "),t("span",{class:"token number"},"26"),c("\n Paused: "),t("span",{class:"token number"},"0"),c("\n Stopped: "),t("span",{class:"token number"},"0"),c("\nImages: "),t("span",{class:"token number"},"19"),c("\nServer Version: "),t("span",{class:"token number"},"18.06"),c(".1-ce\nStorage Driver: overlay2\n Backing Filesystem: extfs\n Supports d_type: "),t("span",{class:"token boolean"},"true"),c("\n Native Overlay Diff: "),t("span",{class:"token boolean"},"true"),c("\nLogging Driver: json-file\nCgroup Driver: cgroupfs\nPlugins:\n Volume: "),t("span",{class:"token builtin class-name"},"local"),c("\n Network: bridge "),t("span",{class:"token function"},"host"),c(" macvlan null overlay\n Log: awslogs fluentd gcplogs gelf journald json-file logentries splunk syslog\nSwarm: inactive\nRuntimes: nvidia runc\nDefault Runtime: runc\n……\n")])],-1),h=t("h4",{id:"ubuntu-上查看-docker-日志"},[t("a",{class:"header-anchor",href:"#ubuntu-上查看-docker-日志","aria-hidden":"true"},"#"),c(" ubuntu 上查看 docker 日志")],-1),m=t("pre",{class:"language-bash"},[t("code",{class:"language-bash"},[c("$ "),t("span",{class:"token function"},"sudo"),c(" journalctl -fu docker.service\n")])],-1),b=t("h4",{id:"删除-image"},[t("a",{class:"header-anchor",href:"#删除-image","aria-hidden":"true"},"#"),c(" 删除 image")],-1),f=t("pre",{class:"language-bash"},[t("code",{class:"language-bash"},[c("$ "),t("span",{class:"token function"},"sudo"),c(" docker rmi "),t("span",{class:"token operator"},"<"),c("image-id"),t("span",{class:"token operator"},">"),c("\n")])],-1),v=t("h4",{id:"删除-container"},[t("a",{class:"header-anchor",href:"#删除-container","aria-hidden":"true"},"#"),c(" 删除 container")],-1),B=t("pre",{class:"language-bash"},[t("code",{class:"language-bash"},[c("$ "),t("span",{class:"token function"},"sudo"),c(" docker "),t("span",{class:"token function"},"rm"),c(),t("span",{class:"token operator"},"<"),c("container-id/container-name"),t("span",{class:"token operator"},">"),c("\n")])],-1),I=t("h2",{id:"技巧相关"},[t("a",{class:"header-anchor",href:"#技巧相关","aria-hidden":"true"},"#"),c(" 技巧相关")],-1),y=t("h4",{id:"清空-log"},[t("a",{class:"header-anchor",href:"#清空-log","aria-hidden":"true"},"#"),c(" 清空 log")],-1),D=t("p",null,"当我们的 log 文件变得很大时，我们想将其清空时，可以通过如下命令进行操作：",-1),M=t("pre",{class:"language-bash"},[t("code",{class:"language-bash"},[c("$ "),t("span",{class:"token builtin class-name"},":"),c(),t("span",{class:"token operator"},">"),c(),t("span",{class:"token variable"},[t("span",{class:"token variable"},"$("),c("docker inspect --format"),t("span",{class:"token operator"},"="),c("`"),t("span",{class:"token punctuation"},"{"),t("span",{class:"token punctuation"},"{"),c(".LogPath"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},"}"),c("` "),t("span",{class:"token operator"},"<"),c("container_name_or_id"),t("span",{class:"token operator"},">"),t("span",{class:"token variable"},")")]),c("\n")])],-1),_=t("p",null,[c("注意这边的 "),t("code",null,"format"),c(" 的反引号要改成单引号")],-1),S={expose:[],setup(c){const S={title:"Docker In Use",date:"2021-03-19T00:00:00.000Z",author:"Linkang Chan",twitter:"JessEisen_LJ",description:"docker skill",public:!0,tag:"21F08 docker",meta:[{property:"og:title",content:"Docker In Use"},{property:"og:description",content:"docker skill"},{name:"description",content:"docker skill"}]};return e({title:"Docker In Use",meta:[{property:"og:title",content:"Docker In Use"},{property:"og:description",content:"docker skill"},{name:"description",content:"docker skill"}]}),(e,c)=>{const $=n,j=a;return s(),o(j,{frontmatter:S},{default:r((()=>[t("div",null,[l,i,u,p,d,k,g,h,m,b,f,v,B,t($),I,y,D,M,_])])),_:1})}}};export default S;
